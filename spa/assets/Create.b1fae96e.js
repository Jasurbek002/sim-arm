import{_ as q}from"./Input.8b7e0d22.js";import{Q as y,_ as U}from"./QSpace.f678c534.js";import{_ as C}from"./Button.63194d48.js";import{Q as x,_ as k}from"./QPage.bb4ce7cd.js";import{Q as r}from"./QSelect.d9dd552a.js";import{Q as w}from"./QForm.f642da13.js";import{d as T,r as p,u as Q,o as I,i as B,w as i,a,g as c,f as v}from"./index.5221c97c.js";import{C as S}from"./categoryService.13c2f0a0.js";import{T as V}from"./TariffService.4b987b89.js";import"./QInput.aeb6dd02.js";import"./use-router-link.e679d0f1.js";import"./QBtn.0f9bb51c.js";import"./focus-manager.33224ae2.js";import"./QItemSection.5af580f0.js";import"./QDialog.0ea6a21d.js";import"./use-prevent-scroll.be01707d.js";import"./scroll.8f17f125.js";import"./rtl.819f6b22.js";import"./format.2a3572e1.js";import"./axios.bb950210.js";const N={class:"flex full-width justify-between"},$=c("div",{class:"row flex justify-center col-12 q-mb-md"},null,-1),le=T({__name:"Create",setup(j){const o=p({title:"",description:"",price:0,deadline:0,sms:"",minutes:"",mega_byte:"",sale:0,ussd_code:"",tariff_typing_id:0,night_internet:"",instagram:"",facebook:null,telegram:null,you_tobe:null,whatsapp:null,status:1}),g=Q(),f=p([]),m=p({categoryId:0,tariffCategory:[]});S.getAllCategory().then(t=>{f.value=t==null?void 0:t.map(e=>({label:e.company_name,value:e.category_id}))});async function b(t){V.getAllCategory().then(e=>{m.value.tariffCategory=e==null?void 0:e.map(n=>n.category_id==t.value?{label:n.name,value:n.tariff_typing_id}:n)})}async function _(t){var d,s;const e={...t,tariff_typing_id:(d=t==null?void 0:t.tariff_typing_id)==null?void 0:d.value,deadline:(s=t==null?void 0:t.deadline)==null?void 0:s.value};(await V.create(e)).tariff_id&&g.push("/tariffs")}return(t,e)=>{const n=k,d=C,s=U,u=q;return I(),B(x,{class:"q-mx-lg"},{default:i(()=>[a(s,{class:"q-gutter-x-sm"},{default:i(()=>[c("div",N,[a(n,{breadcrumbs:[{label:"Home"},{label:"Create"},{label:"Tariff"}]}),a(d,{to:"/tariffs",outline:"",icon:"arrow_left"},{default:i(()=>[v("back")]),_:1})]),a(y)]),_:1}),a(y),a(w,{class:"row flex flex-center justify-evenly"},{default:i(()=>[a(r,{outlined:"",modelValue:m.value.categoryId,"onUpdate:modelValue":[e[0]||(e[0]=l=>m.value.categoryId=l),e[1]||(e[1]=l=>b(m.value.categoryId))],options:[...f.value],label:"Company",class:"q-my-md col-5"},null,8,["modelValue","options"]),a(r,{outlined:"",modelValue:o.value.tariff_typing_id,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.tariff_typing_id=l),options:[...m.value.tariffCategory],label:"Tariff category",class:"q-my-md col-5"},null,8,["modelValue","options"]),a(u,{modelValue:o.value.title,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.title=l),label:"Title",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.price,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.price=l),label:"Price",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.ussd_code,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.ussd_code=l),label:"Ussd code",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.mega_byte,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.mega_byte=l),label:"Internet",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.night_internet,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.night_internet=l),label:"Night internet",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.sms,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.sms=l),label:"Sms",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.minutes,"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.minutes=l),label:"Daqiqa",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.telegram,"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.telegram=l),label:"Telegram uchun",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.facebook,"onUpdate:modelValue":e[11]||(e[11]=l=>o.value.facebook=l),label:"Facebook uchun",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.you_tobe,"onUpdate:modelValue":e[12]||(e[12]=l=>o.value.you_tobe=l),label:"youtobe uchun",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(u,{modelValue:o.value.whatsapp,"onUpdate:modelValue":e[13]||(e[13]=l=>o.value.whatsapp=l),label:"Whatsapp uchun",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(r,{modelValue:o.value.deadline,"onUpdate:modelValue":e[14]||(e[14]=l=>o.value.deadline=l),outlined:"",options:[{label:"1 kun",value:0},{label:"7 kun",value:2},{label:"30 kun",value:2}],label:"Davomiyligi",class:"q-my-md col-5"},null,8,["modelValue"]),a(u,{modelValue:o.value.description,"onUpdate:modelValue":e[15]||(e[15]=l=>o.value.description=l),label:"Tavsif",type:"textarea",outlined:"",class:"col-5 q-my-md"},null,8,["modelValue"]),a(d,{onClick:e[16]||(e[16]=l=>_(o.value)),icon:"add",class:"col-5",style:{height:"50px"}},{default:i(()=>[v("Add")]),_:1}),$]),_:1})]),_:1})}}});export{le as default};
